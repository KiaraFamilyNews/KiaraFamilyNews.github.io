{"version":3,"sources":["webpack://gatsby-starter-default/./src/components/canvas/plugins.js","webpack://gatsby-starter-default/./src/components/layout.js","webpack://gatsby-starter-default/./src/images/dontstarve.jpeg","webpack://gatsby-starter-default/./src/images/milfkiara.jpeg","webpack://gatsby-starter-default/./src/images/smolltakamori.jpeg","webpack://gatsby-starter-default/./src/components/canvas/main.js","webpack://gatsby-starter-default/./src/pages/art/artCanvas.js"],"names":["method","noop","methods","length","console","window","Layout","children","propTypes","PropTypes","Canvas","props","state","canvas","componentDidMount","this","fabric","selection","setDimensions","innerWidth","innerHeight","on","opt","delta","e","deltaY","zoom","getZoom","zoomToPoint","x","offsetX","y","offsetY","preventDefault","stopPropagation","log","viewportTransform","evt","isDragging","lastPosX","clientX","lastPosY","clientY","vpt","requestRenderAll","setViewportTransform","images","forEach","imageItem","image","Image","src","onload","imgInstance","left","top","angle","opacity","scaleX","scaleY","set","tooltipRef","add","render","id","style","border","React","image1src","image2src","image3src","TheFandomPage","title","siteTitle"],"mappings":"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","file":"component---src-pages-art-art-canvas-js-c174056060499a6f43b8.js","sourcesContent":["// Avoid `console` errors in browsers that lack a console.\r\n(function() {\r\n  var method;\r\n  var noop = function () {};\r\n  var methods = [\r\n    'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\r\n    'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\r\n    'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\r\n    'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'\r\n  ];\r\n  var length = methods.length;\r\n  var console = (window.console = window.console || {});\r\n\r\n  while (length--) {\r\n    method = methods[length];\r\n\r\n    // Only stub undefined methods.\r\n    if (!console[method]) {\r\n      console[method] = noop;\r\n    }\r\n  }\r\n}());\r\n\r\n// Place any jQuery/helper plugins in here.\r\n","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.com/docs/use-static-query/\n */\n\nimport * as React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nimport \"./layout.css\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"../scss/custom.scss\"\nimport \"../styles/common.css\"\n\nconst Layout = ({ children }) => {\n  return (\n    <>\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","export default __webpack_public_path__ + \"static/dontstarve-7bfa6be12ab73c2f10d5b7f4d2cf7b90.jpeg\";","export default __webpack_public_path__ + \"static/milfkiara-02af8ad9df7e9047e71fa8b289a709ef.jpeg\";","export default __webpack_public_path__ + \"static/smolltakamori-a45ec3f5cd9a7bdabdeadf87792637da.jpeg\";","import React, { useState, useEffect } from \"react\"\r\nimport { fabric } from \"fabric\"\r\n\r\nimport image1src from '../../images/dontstarve.jpeg';\r\nimport image2src from '../../images/milfkiara.jpeg';\r\nimport image3src from '../../images/smolltakamori.jpeg';\r\n\r\nexport default class Canvas extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {canvas: null};\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.state.canvas = new fabric.Canvas(\"imageboard\")\r\n\r\n    this.state.canvas.selection = false;\r\n\r\n    this.state.canvas.setDimensions({ 'width' :window.innerWidth, 'height': window.innerHeight});\r\n\r\n    //zoom function\r\n    this.state.canvas.on('mouse:wheel', function(opt) {\r\n      var delta = opt.e.deltaY;\r\n      var zoom = this.state.canvas.getZoom();\r\n      zoom *= 0.999 ** delta;\r\n      if (zoom > 10) zoom = 10;\r\n      if (zoom < 0.5) zoom = 0.5;\r\n      this.state.canvas.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);\r\n      opt.e.preventDefault();\r\n      opt.e.stopPropagation();\r\n\r\n    });\r\n\r\n    // drag function\r\n    this.state.canvas.on('mouse:down', function(opt) {\r\n      console.log(this.viewportTransform);\r\n        var evt = opt.e;\r\n        this.isDragging = true;\r\n        this.lastPosX = evt.clientX;\r\n        this.lastPosY = evt.clientY;\r\n    });\r\n    this.state.canvas.on('mouse:move', function(opt) {\r\n      if (this.isDragging) {\r\n        var e = opt.e;\r\n        var vpt = this.viewportTransform;\r\n        vpt[4] += e.clientX - this.lastPosX;\r\n        vpt[5] += e.clientY - this.lastPosY;\r\n        this.requestRenderAll();\r\n        this.lastPosX = e.clientX;\r\n        this.lastPosY = e.clientY;\r\n      }\r\n    });\r\n    this.state.canvas.on('mouse:up', function(opt) {\r\n      this.setViewportTransform(this.viewportTransform);\r\n      this.isDragging = false;\r\n    });\r\n\r\n    this.state.canvas.on('mouse:over', function(e) {\r\n      // let tooltip = e.target?.tooltipRef\r\n      // if (tooltip) {\r\n      //   let span = document.querySelector('span[ref=\"' + tooltip + '\"]')\r\n      //   span.style.visibility = 'visible'\r\n      //   span.style.top = e.e.offsetY + 'px'\r\n      //   span.style.left = e.e.offsetX + 'px'\r\n      // }\r\n    });\r\n\r\n    this.state.canvas.on('mouse:out', function(e) {\r\n      // let tooltip = e.target?.tooltipRef\r\n      // if (tooltip) {\r\n      //   let span = document.querySelector('span[ref=\"' + tooltip + '\"]')\r\n      //   span.style.visibility = 'hidden'\r\n      // }\r\n    });\r\n\r\n    images.forEach((imageItem) => {\r\n      let image = new Image();\r\n      image.src = imageItem.src;\r\n      image.onload = () => {\r\n        let imgInstance = new fabric.Image(image, {\r\n          left: imageItem.left,\r\n          top: imageItem.top,\r\n          angle: imageItem.angle,\r\n          opacity: imageItem.opacity,\r\n          scaleX : imageItem.scaleX,\r\n          scaleY: imageItem.scaleY\r\n        });\r\n          //dissables to select this image\r\n          imgInstance.set('selectable', false);\r\n          imgInstance.set('tooltipRef', imageItem.tooltipRef);\r\n          this.state.canvas.add(imgInstance);\r\n      };\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n        <React.Fragment>\r\n            <div id=\"canvas-container\">\r\n                <canvas style={{border: 'solid 1px #555'}} id='imageboard' />\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst images = [\r\n  {\r\n    src: image1src,\r\n    left: 0,\r\n    top: 0,\r\n    angle: 0,\r\n    opacity: 1,\r\n    scaleX : 0.3,\r\n    scaleY: 0.3,\r\n    tooltipRef: \"ref1\"\r\n  },\r\n  {\r\n    src: image2src,\r\n    left: 1000,\r\n    top: 0,\r\n    angle: 0,\r\n    opacity: 1,\r\n    scaleX : 0.3,\r\n    scaleY: 0.3,\r\n    tooltipRef: \"ref2\"\r\n  },\r\n  {\r\n    src: image3src,\r\n    left: 500,\r\n    top: 600,\r\n    angle: 0,\r\n    opacity: 1,\r\n    scaleX : 0.2,\r\n    scaleY: 0.2,\r\n    tooltipRef: \"ref3\"\r\n  }\r\n];\r\n","import * as React from \"react\"\nimport { Link } from \"gatsby\"\n\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\nimport Header from \"../../components/header2\"\n\n// import \"../../components/canvas/vendor/modernizr-3.11.2.min\"\nimport \"../../components/canvas/plugins\"\nimport Canvas from \"../../components/canvas/main\"\n\n\nexport default class TheFandomPage extends React.Component {\n    state = {\n    };\n\n    render() {\n        return (\n            <div>\n                <SEO title=\"Home\" />\n                <Header siteTitle=\"Kiara Million\" />\n                <div>\n                    <h1>Art Canvas</h1>\n                    <Canvas/>\n                </div>\n            </div>\n        )\n    }\n}\n"],"sourceRoot":""}