{"version":3,"sources":["webpack://gatsby-starter-default/./src/components/layout.js","webpack://gatsby-starter-default/./src/images/dontstarve.jpeg","webpack://gatsby-starter-default/./src/images/milfkiara.jpeg","webpack://gatsby-starter-default/./src/images/smolltakamori.jpeg","webpack://gatsby-starter-default/./src/components/canvas/canvas.js","webpack://gatsby-starter-default/./src/pages/art/artCanvas.js"],"names":["Layout","children","propTypes","PropTypes","canvas","Canvas","props","state","componentDidMount","window","fabric","require","selection","setDimensions","width","innerWidth","height","innerHeight","on","opt","delta","e","deltaY","zoom","getZoom","zoomToPoint","x","offsetX","y","offsetY","preventDefault","stopPropagation","console","log","this","viewportTransform","evt","isDragging","lastPosX","clientX","lastPosY","clientY","vpt","requestRenderAll","setViewportTransform","tooltip","target","tooltipRef","span","document","querySelector","style","visibility","top","left","images","forEach","imageItem","index","image","Image","src","onload","imgInstance","angle","opacity","scaleX","scaleY","set","add","render","id","border","map","className","React","image1src","image2src","image3src","TheFandomPage","title","siteTitle"],"mappings":"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","file":"component---src-pages-art-art-canvas-js-044403847cd5d1a1dd21.js","sourcesContent":["/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.com/docs/use-static-query/\n */\n\nimport * as React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nimport \"./layout.css\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"../scss/custom.scss\"\nimport \"../styles/common.css\"\n\nconst Layout = ({ children }) => {\n  return (\n    <>\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","export default __webpack_public_path__ + \"static/dontstarve-7bfa6be12ab73c2f10d5b7f4d2cf7b90.jpeg\";","export default __webpack_public_path__ + \"static/milfkiara-02af8ad9df7e9047e71fa8b289a709ef.jpeg\";","export default __webpack_public_path__ + \"static/smolltakamori-a45ec3f5cd9a7bdabdeadf87792637da.jpeg\";","import React, { useState, useEffect } from \"react\"\r\n// import { fabric } from \"fabric\"\r\n\r\nimport image1src from \"../../images/dontstarve.jpeg\"\r\nimport image2src from \"../../images/milfkiara.jpeg\"\r\nimport image3src from \"../../images/smolltakamori.jpeg\"\r\n\r\nimport \"./canvas.css\"\r\n\r\nvar canvas = null\r\n\r\n\r\nexport default class Canvas extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { canvas: null }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (typeof window !== `undefined`) {\r\n      const fabric = require(\"fabric\").fabric \r\n      \r\n      canvas = new fabric.Canvas(\"imageboard\")\r\n      \r\n      canvas.selection = false\r\n\r\n      canvas.setDimensions({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      })\r\n\r\n      //zoom function\r\n      canvas.on(\"mouse:wheel\", function (opt) {\r\n        var delta = opt.e.deltaY\r\n        var zoom = canvas.getZoom()\r\n        zoom *= 0.999 ** delta\r\n        if (zoom > 10) zoom = 10\r\n        if (zoom < 1) zoom = 1\r\n        canvas.zoomToPoint(\r\n          { x: opt.e.offsetX, y: opt.e.offsetY },\r\n          zoom\r\n        )\r\n        opt.e.preventDefault()\r\n        opt.e.stopPropagation()\r\n      })\r\n\r\n      // drag function\r\n      canvas.on(\"mouse:down\", function (opt) {\r\n        console.log(this.viewportTransform)\r\n        var evt = opt.e\r\n        this.isDragging = true\r\n        this.lastPosX = evt.clientX\r\n        this.lastPosY = evt.clientY\r\n      })\r\n      canvas.on(\"mouse:move\", function (opt) {\r\n        if (this.isDragging) {\r\n          var e = opt.e\r\n          var vpt = this.viewportTransform\r\n          vpt[4] += e.clientX - this.lastPosX\r\n          vpt[5] += e.clientY - this.lastPosY\r\n          this.requestRenderAll()\r\n          this.lastPosX = e.clientX\r\n          this.lastPosY = e.clientY\r\n        }\r\n      })\r\n      canvas.on(\"mouse:up\", function (opt) {\r\n        this.setViewportTransform(this.viewportTransform)\r\n        this.isDragging = false\r\n      })\r\n\r\n      canvas.on(\"mouse:over\", function (e) {\r\n        let tooltip = e.target?.tooltipRef\r\n        console.log(tooltip)\r\n        if (tooltip) {\r\n          let span = document.querySelector('span[id=\"' + tooltip + '\"]')\r\n          span.style.visibility = 'visible'\r\n          span.style.top = e.e.offsetY + 'px'\r\n          span.style.left = e.e.offsetX + 'px'\r\n        }\r\n      })\r\n\r\n      canvas.on(\"mouse:out\", function (e) {\r\n        let tooltip = e.target?.tooltipRef\r\n        if (tooltip) {\r\n          let span = document.querySelector('span[id=\"' + tooltip + '\"]')\r\n          span.style.visibility = 'hidden'\r\n        }\r\n      })\r\n\r\n      images.forEach( (imageItem, index) => {\r\n        let image = new Image()\r\n        image.src = imageItem.src\r\n        image.onload = () => {\r\n          let imgInstance = new fabric.Image(image, {\r\n            left: imageItem.left,\r\n            top: imageItem.top,\r\n            angle: imageItem.angle,\r\n            opacity: imageItem.opacity,\r\n            scaleX: imageItem.scaleX,\r\n            scaleY: imageItem.scaleY,\r\n          })\r\n          //dissables to select this image\r\n          imgInstance.set(\"selectable\", false)\r\n          imgInstance.set(\"tooltipRef\", \"ref\" + index)\r\n          canvas.add(imgInstance)\r\n        }\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div id=\"canvas-container\">\r\n          <canvas style={{ border: \"solid 1px #555\" }} id=\"imageboard\" />\r\n          {images.map((image, index) => {\r\n            return <span id={\"ref\" + index} className=\"toolTip\">{\"ToolTip\" + index}</span>\r\n          })}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst images = [\r\n  {\r\n    src: image1src,\r\n    left: 0,\r\n    top: 0,\r\n    angle: 0,\r\n    opacity: 1,\r\n    scaleX: 0.3,\r\n    scaleY: 0.3,\r\n  },\r\n  {\r\n    src: image2src,\r\n    left: 1000,\r\n    top: 0,\r\n    angle: 0,\r\n    opacity: 1,\r\n    scaleX: 0.3,\r\n    scaleY: 0.3,\r\n  },\r\n  {\r\n    src: image3src,\r\n    left: 500,\r\n    top: 600,\r\n    angle: 0,\r\n    opacity: 1,\r\n    scaleX: 0.2,\r\n    scaleY: 0.2,\r\n  },\r\n]\r\n","import * as React from \"react\"\nimport { Link } from \"gatsby\"\n\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\nimport Header from \"../../components/header2\"\n\n// import \"../../components/canvas/vendor/modernizr-3.11.2.min\"\n// import \"../../components/canvas/plugins\"\nimport Canvas from \"../../components/canvas/canvas\"\n\n\nexport default class TheFandomPage extends React.Component {\n    state = {\n    };\n\n    render() {\n        return (\n            <div>\n                <SEO title=\"Home\" />\n                <Header siteTitle=\"Kiara Million\" />\n                <div>\n                    <h1>Art Canvas</h1>\n                    <Canvas/>\n                </div>\n            </div>\n        )\n    }\n}\n"],"sourceRoot":""}